(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t(56)},50:function(e,a,t){},52:function(e,a,t){},54:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(21),o=t.n(r),c=t(6),s=t(7),m=t(9),i=t(8),d=t(10),u=t(3),p=t.n(u),h=t(11),g=t(14),b=t(4),y=t(1),E=t(5),f=t.n(E),v=t(13),N=t.n(v),D=(t(50),t(52),function(e){return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"container justify-content-center",style:{height:"100vh"}},l.a.createElement("h1",{className:"display-4 text-center",style:{paddingTop:"15vh"}},"Log In"),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("input",{type:"checkbox",className:"switch_1",onChange:e.toggleIsHrLogin,checked:e.isHrLogin}),l.a.createElement("small",{className:"form-text text-muted"},"You are Logging as ",e.isHrLogin?"HR":"Employee",". Toggle above to change")),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control form-control-lg",placeholder:"Username",name:"username",onChange:e.changeInputFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",name:"password",onChange:e.changeInputFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-lg btn-info btn-block mt-4",onClick:e.submitLoginHandler},"Login"),e.loginError?l.a.createElement("div",{className:"form-text text-danger text-center"},"Invalid credentials, please try again."):null))))}),I=function(e){var a="".concat(e.classes?e.classes:"btn ml-1 text-capitalize"," ").concat(e.active?"active":""," ").concat(e.btnColor?e.btnColor:"btn-dark");return l.a.createElement("button",{className:a,onClick:e.clicked},e.title)},j=function(e){return l.a.createElement("li",{className:"nav-item"},l.a.createElement(I,{btnColor:"btn-dark",clicked:e.clicked,title:e.title,active:e.active}))},x=function(e){var a=[];return e.navigationItems&&(a=e.navigationItems.map(function(e,a){return l.a.createElement(j,{clicked:e.clicked,title:e.title,active:e.active,key:a})})),l.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-5"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Signout"),l.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarNav"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},a))))},H=function(e){return l.a.createElement("div",{className:"card mb-3"},e.empId?l.a.createElement("div",{className:"card-header h5 text-capitalize"},"employee id: ",e.empId):null,l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-7"},e.empName?l.a.createElement("h4",{className:"card-title text-capitalize"},"name: ",e.empName):null,e.empAge?l.a.createElement("h6",{className:"card-text text-capitalize"},"age: ",e.empAge):null,e.empJoinDate?l.a.createElement("h6",{className:"card-text text-capitalize"},"join date: ",e.empJoinDate):null,e.empAccountNumber?l.a.createElement("h6",{className:"card-text text-capitalize"},"account number: ",e.empAccountNumber):null),l.a.createElement("div",{className:"col-md-5 text-right"},e.cardButtons?e.cardButtons.map(function(e,a){return l.a.createElement(I,{classes:e.classes,btnColor:e.btnColor,clicked:e.clicked,title:e.title,active:e.active,key:a})}):null))))},O=function(e){var a=[];return e.employeeCards&&(a=e.employeeCards.map(function(e,a){return l.a.createElement(H,{empId:e.empId,empName:e.empName,empAge:e.empAge,empJoinDate:e.empJoinDate,cardButtons:e.cardButtons,key:a})})),l.a.createElement("div",{className:"container mb-3"},a)},w=function(e){return l.a.createElement("footer",{className:"bg-dark text-white text-white text-center py-4 mt-5 text-capitalize"},"Copyright \xa9 ",(new Date).getFullYear()," ",e.title?e.title:null)},k=(t(54),function(){return l.a.createElement("div",{className:"Loader"},"Loading...")}),F=function(e){var a=e.employee;return l.a.createElement("div",{className:"container px-5"},l.a.createElement("button",{type:"button",className:"btn btn btn-outline-dark ml-5 text-capitalize",onClick:e.goBackHandler},"go back"),l.a.createElement("p",{className:"display-4 text-center text-capitalize"},e.title?e.title:"Add Employee Details"),l.a.createElement("div",{className:"form px-md-5"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",name:"firstName",defaultValue:a&&a.firstName?a.firstName:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",name:"lastName",defaultValue:a&&a.lastName?a.lastName:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Age",name:"age",defaultValue:a&&a.age?a.age:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"h6 text-capitalize"},"date of birth"),l.a.createElement("input",{type:"date",className:"form-control",name:"dateOfBirth",defaultValue:a&&a.dateOfBirth?a.dateOfBirth:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Marital Status",name:"maritalStatus",defaultValue:a&&a.maritalStatus?a.maritalStatus:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Gender",name:"gender",defaultValue:a&&a.gender?a.gender:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"h6 text-capitalize"},"hiring date"),l.a.createElement("input",{type:"date",className:"form-control",name:"hiringDate",defaultValue:a&&a.hiringDate?a.hiringDate:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"h6 text-capitalize"},"joining date"),l.a.createElement("input",{type:"date",className:"form-control",name:"joiningDate",id:"joiningDate",defaultValue:a&&a.joiningDate?a.joiningDate:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Job Id",name:"jobId",defaultValue:a&&a.jobId?a.jobId:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name of the School",name:"nameOfSchool",defaultValue:a&&a.nameOfSchool?a.nameOfSchool:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Degree",name:"degree",defaultValue:a&&a.degree?a.degree:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"h6 text-capitalize"},"start date"),l.a.createElement("input",{type:"date",className:"form-control",name:"startDate",defaultValue:a&&a.startDate?a.startDate:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"h6 text-capitalize"},"end date"),l.a.createElement("input",{type:"date",className:"form-control",name:"endDate",defaultValue:a&&a.endDate?a.endDate:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Salary",name:"amount",defaultValue:a&&a.amount?a.amount:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Is monthly",name:"isMonthly",defaultValue:a&&a.isMonthly?a.isMonthly:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"tel",className:"form-control",placeholder:"Contact Number",name:"phoneNumber",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",defaultValue:a&&a.phoneNumber?a.phoneNumber:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",name:"email",defaultValue:a&&a.email?a.email:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",placeholder:"Address",name:"address",defaultValue:a&&a.address?a.address:null,onChange:e.changeEmployeeFieldsHandler})),l.a.createElement("button",{type:"button",className:"btn btn-lg btn-info btn-block mt-4 text-capitalize",onClick:e.submitPatchEmployeeHandler},e.submitText?e.submitText:"Submit")))},C=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).updatedNavItemsFor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"employee",a=arguments.length>1?arguments[1]:void 0;e+="Dashboard",t.setState(function(t){var n=Object(y.a)({},t[e].navItems);return Object.keys(n).forEach(function(e){return n[e].active=!1}),n[a].active=!0,Object(y.a)({},t,Object(b.a)({},e,Object(y.a)({},t[e],{navItems:n,updateEmployeeId:null})))})},t.deleteEmployeeHandler=function(e){t.setState(function(a){var t=a.hrDashboard.employees.filter(function(a){return a.employeeId!==e});return Object(y.a)({},a,{hrDashboard:Object(y.a)({},a.hrDashboard,{employees:t})})})},t.updateEmployeeHandler=function(e){t.setState(function(a){console.log(a);var t=Object(y.a)({},a.hrDashboard.navItems);return Object.keys(t).forEach(function(e){return t[e].active=!1}),Object(y.a)({},a,{hrDashboard:Object(y.a)({},a.hrDashboard,{navItems:t,updateEmployeeId:e}),dashboardLoading:!1,loading:!1})})},t.changeEmployeeFieldsHandler=function(e){if(t.state.hrDashboard.updateEmployeeId){var a=Object(g.a)(t.state.hrDashboard.employees),n=a.findIndex(function(e){return e.employeeId===t.state.hrDashboard.updateEmployeeId}),l=a[n];l&&(l[e.target.name]=e.target.value),t.setState({hrDashboard:Object(y.a)({},t.state.hrDashboard,{employees:a})})}else{var r=t.state.hrDashboard.newEmployee;r&&(r[e.target.name]=e.target.value),t.setState({hrDashboard:Object(y.a)({},t.state.hrDashboard,{newEmployee:r})})}},t.submitPatchEmployeeHandler=Object(h.a)(p.a.mark(function e(){var a,n,l,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=Object(y.a)({},t.state.hrDashboard),!(n=a.employees.find(function(e){return e.employeeId===a.updateEmployeeId}))){e.next=23;break}return(r=l=n).contactDetails={},r.salaryDetails={},r.educationDetails={},r.contactDetails.phoneNumber=l.phoneNumber,r.contactDetails.email=l.email,r.contactDetails.address=l.address,r.educationDetails.nameOfSchool=l.nameOfSchool,r.educationDetails.degree=l.degree,r.educationDetails.startDate=l.startDate,r.educationDetails.endDate=l.endDate,r.salaryDetails.amount=l.amount,r.salaryDetails.isMonthly=l.isMonthly,e.next=20,f.a.patch("/hr/update-employee",r);case 20:t.updatedNavItemsFor("hr","view"),e.next=24;break;case 23:t.updatedNavItemsFor("hr","view");case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),t.updatedNavItemsFor("hr","view");case 29:case"end":return e.stop()}},e,this,[[0,26]])})),t.addNewEmployee=function(e){t.setState(function(a){var t=Object(y.a)({},a.hrDashboard.newEmployee),n=Object(g.a)(a.hrDashboard.employees).concat([t]);t.employeeId=e||n.length+1;var l=Object(y.a)({},a.hrDashboard.navItems);return Object.keys(l).forEach(function(e){return l[e].active=!1}),l.view.active=!0,Object(y.a)({},a,{hrDashboard:Object(y.a)({},a.hrDashboard,{navItems:l,employees:n,newEmployee:{}})})})},t.submitAddEmployeeHandler=Object(h.a)(p.a.mark(function e(){var a,n,l,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=Object(y.a)({},t.state.hrDashboard),!(n=Object(y.a)({},a.newEmployee))){e.next=21;break}return(l=n).contactDetails={},l.salaryDetails={},l.educationDetails={},l.contactDetails.phoneNumber=n.phoneNumber,l.contactDetails.email=n.email,l.contactDetails.address=n.address,l.educationDetails.nameOfSchool=n.nameOfSchool,l.educationDetails.degree=n.degree,l.educationDetails.startDate=n.startDate,l.educationDetails.endDate=n.endDate,l.salaryDetails.amount=n.amount,l.salaryDetails.isMonthly=n.isMonthly,e.next=19,f.a.post("/hr/create-employee",l);case 19:(r=e.sent)?t.addNewEmployee(r.data.response):t.addNewEmployee();case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),t.addNewEmployee();case 26:case"end":return e.stop()}},e,this,[[0,23]])})),t.getHrViewEmployee=function(){var e=t.state.hrDashboard,a=null;if(e.navItems.view.active){var n=e.employees.map(function(e){var a=new Date;return{empId:e.employeeId,empName:"".concat(e.firstName," ").concat(e.lastName),empAge:e.age?e.age:Math.floor(32*Math.random())+21,empJoinDate:"".concat(a.getDay(),"/").concat(a.getMonth(),"/").concat(a.getFullYear()),cardButtons:[{btnColor:"btn-info",title:"update",clicked:function(){return t.updateEmployeeHandler(e.employeeId)}},{btnColor:"btn-danger",title:"delete",clicked:function(){return t.deleteEmployeeHandler(e.employeeId)}}]}});a=l.a.createElement(O,{employeeCards:n})}if(e.updateEmployeeId||e.navItems.add.active){var r=e.updateEmployeeId?e.employees.find(function(a){return a.employeeId===e.updateEmployeeId}):e.newEmployee;e.updateEmployeeId&&(r=N.a.pick(r,["firstName","lastName","dateOfBirth","age","maritalStatus","jobId","hiringDate","joiningDate","nameOfSchool","degree","startDate","endDate","salary","isMonthly","phoneNumber","email","address"])),a=l.a.createElement(F,{title:e.updateEmployeeId?"update employee Id: ".concat(e.updateEmployeeId):"add employee",submitText:e.updateEmployeeId?"update employee":"add employee",goBackHandler:function(){return t.updatedNavItemsFor("hr","view")},employee:r,changeEmployeeFieldsHandler:t.changeEmployeeFieldsHandler,submitPatchEmployeeHandler:e.updateEmployeeId?t.submitPatchEmployeeHandler:t.submitAddEmployeeHandler})}return a},t.getHrDashboard=function(){var e=t.state.hrDashboard,a=Object.keys(e.navItems).map(function(a){return Object(y.a)({},e.navItems[a],{clicked:function(){return t.updatedNavItemsFor("hr",a)}})});return l.a.createElement("div",null,l.a.createElement(x,{navigationItems:a}),t.state.dashboardLoading?l.a.createElement(k,null):t.getHrViewEmployee())},t.getEmployeeView=function(){var e=t.state.employeeDashboard,a=null;if(e.navItems.view.active){var n=N.a.pick(e.employees[0],["employeeId","firstName","lastName","dateOfBirth","age","maritalStatus","jobId","hiringDate","joiningDate","nameOfSchool","degree","startDate","endDate","salary","isMonthly","phoneNumber","email","address","accountNumber"]),r=new Date;a=l.a.createElement(H,{empId:n.employeeId,empName:"".concat(n.firstName," ").concat(n.lastName),empAge:n.age?n.age:Math.floor(32*Math.random())+21,empJoinDate:n.joinDate?n.joinDate:"".concat(r.getDay(),"-").concat(r.getMonth(),"-").concat(r.getFullYear()),empAccountNumber:n.accountNumber})}return l.a.createElement("div",{className:"container"},a)},t.getEmployeeDashboard=function(){var e=t.state.employeeDashboard,a=Object.keys(e.navItems).map(function(a){return Object(y.a)({},e.navItems[a],{clicked:function(){return t.updatedNavItemsFor("employee",a)}})});return l.a.createElement("div",null,l.a.createElement(x,{navigationItems:a}),t.state.dashboardLoading?l.a.createElement(k,null):t.getEmployeeView())},t.getLogin=function(){return l.a.createElement(D,{isHrLogin:t.state.isHrLogin,loginError:t.state.loginError,toggleIsHrLogin:t.toggleIsHrLogin,changeInputFieldsHandler:t.changeInputFieldsHandler,submitLoginHandler:function(e){return t.submitLoginHandler(e,t.state.inputFields)}})},t.submitLoginHandler=Object(h.a)(p.a.mark(function e(){var a,n,l,r,o,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),a="".concat(t.state.isHrLogin?"hr":"employee","Dashboard"),n="/login/".concat(t.state.isHrLogin?"hr":"payroll","-login"),e.prev=3,e.next=6,f.a.post(n,{key:t.state.inputFields.username,value:t.state.inputFields.password});case 6:if(!((l=e.sent)&&l.data&&l.data.statusId)){e.next=16;break}return t.setState({loginError:!1,loginSuccess:!0,loading:!1}),r=t.state.isHrLogin?"/hr/get-employees":"/payroll/get-employee-details?employeeId=".concat(t.state.inputFields.username),e.next=12,f.a.get(r);case 12:(o=e.sent)?(c=t.state.isHrLogin?o.data.response.splice(0,40):[Object(y.a)({},o.data.response.payrollDetails,o.data.response.bankDetails,o.data.response.taxDetails)],t.setState(function(e){var t,n=Object(y.a)({},e[a].navItems,{view:Object(y.a)({},e[a].navItems.view,{active:!0})});return Object(y.a)({},e,(t={},Object(b.a)(t,a,Object(y.a)({},e[a],{navItems:n,employees:c})),Object(b.a)(t,"dashboardLoading",!1),t))})):t.setState({dashboardLoading:!0}),e.next=17;break;case 16:t.setState({loginError:!0,loginSuccess:!1,loading:!1});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),t.setState({loginError:!0,loginSuccess:!1,loading:!1});case 22:case"end":return e.stop()}},e,this,[[3,19]])})),t.changeInputFieldsHandler=function(e){var a=Object(y.a)({},t.state.inputFields);a[e.target.name]=e.target.value,t.setState({inputFields:a})},t.toggleIsHrLogin=function(){t.setState(function(e){return{isHrLogin:!e.isHrLogin}})},t.state={inputFields:{username:null,password:null},isHrLogin:!1,loginError:!1,loginSuccess:!1,loading:!1,dashboardLoading:!0,hrDashboard:{navItems:{view:{title:"view employees",active:!1},add:{title:"add employee",active:!1}},employees:[],updateEmployeeId:null,newEmployee:{}},employeeDashboard:{navItems:{view:{title:"view",active:!1},edit:{title:"edit",active:!1}},employees:[]}},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.getLogin();return this.state.loading&&(e=l.a.createElement("div",{style:{marginTop:"36vh"}},l.a.createElement(k,null))),this.state.loginSuccess&&(e=l.a.createElement("div",null,this.state.isHrLogin?this.getHrDashboard():this.getEmployeeDashboard(),l.a.createElement(w,null))),e}}]),a}(l.a.Component),S=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(C,null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.2060c133.chunk.js.map